# 架构即未来

## 读书笔记（一）

最近导师给我推荐了一本书，《架构即未来》，书名的英文名是《The Art Of Scalability》，直译过来就是：可扩展性的艺术。今天拿到手之后，趁着热乎赶紧翻阅了一番，看了前两章，写下读后感。
这里的可扩展性，站在我个人的角度解读，产品的基础架构是否能够跟上产品的快速迭代。

### 人是可扩展性的基础

第一章开头首先问了一个问题，确保公司产品的可扩展性的因素是什么？人、技术、管理？答案是人，因为产品的一切价值是人为的结果，所有的产品都需要依靠人去设计、去编码、去运营。
所有扩展性强的产品一定有一群合适的人，在做着正确的决策。
所谓合适的人指的这个人是在合适的时间放在一个合适的岗位上，并且有合适的行为，来创造最大的价值。合适的行为指的是此人与其他员工融洽相处，并且认同公司的文化和价值观。

比如说1985年的乔布斯，这个时候他刚满30岁，他粗鲁、自私、捣蛋，这些都是不合适的行为，使得公司的产品经常不能逾期完成，造成苹果公司士气低下，所以他被公司开除。十年后的1996年又被重新召回苹果公司做ceo，在这个期间他在next公司和皮克斯公司经过了锻炼，这次她没有重蹈覆辙，比之前更加的稳健与成熟，后面的所有产品都相当的惊艳。
重新加入苹果公司的乔布斯在这个时候做着合适的行为，这里的合适行为，并不是说他是一个好人，而是说他在这个期间的综合表现，对苹果公司的成长是正面的。

### 人员之上的组织

如果说人是可扩展性的基础，那么组织也同样的重要。组织通常由多个人组成，而一个组织究竟需要多少人才合适呢？一个组织是否需要增加人的问题，是一个很难的问题。
因为组织的产出取决于规模和效率，如果只是单纯的增加人，反而可能导致效率低下。

人员的扩展上，我们一定要量度一个组织内每一个成员的产出，如果我们没有办法度量每个人的表现，那么就没法度量出产出，没法度量产出，就没法获得组织的产出和工作质量，那么就不能衡量当前组织内的人数，是否能够满足于当前业务的迭代。
最直接的影响就是不能应对突来的变化和快速的发展，因为我们不了解当前组织所能承受的工作量，不知道从什么时候开始扩大我们的团队。

另一点就是当团队的人越来越多的时候，每天都能收到数以百计的内部邮件和几十个会议邀请，我们用大量的时间去参加会议，和拒绝邮件，而这种就解释了，为什么增加人，可能降低组织内的个人产出。
作者在这里提供了两个方法来解决：

1. 一个是通过加强限制，减少那些没有必要的协调工作；
2. 第二个是在组织内划分自己自主的小团队，来限制个人之间的沟通，每个小团队有一个代表与其他小团队的代表沟通。

但是这两个办法也只能缓解这种现状，并不能彻底消除。同时，作者有关团队规模引伸出了亚马逊公司曾经提出过“两张披萨团队”，意思就是任何一个团队的规模不能大于两张披萨所能喂饱的人数。

最后作者还指出了，影响团队效率的一个原因是，团队内经常会出现冲突。

大体分为以下两种冲突：

1. 一种是情感型的冲突；
2. 还有一种是认知型的冲突。

情感型的冲突一般是以角色或控制为基础，通常表现为某些角色对另一个角色规定不满，比如使用何种技术栈、需求完成的时间、沟通方式等。
如果出现情感型的冲突，一般对我们的产品是没有帮助的，经常会导致产品的逾期发布，如果处理不妥善还会导致组织内人员的士气下跌。
而认知型的冲突，一般指怎么来做这个东西出现了冲突，比如你对产品的需求某个地方提出异议，经过讨论后，确实你的做法更加合理，无形之中提升了产品质量。可见认知型的冲突如果处理得当对产品有可能会有好的帮助。

### 管理与领导

管理和领导同样对一个组织很重要，但是管理和领导是两个概念，管理是与“推”相关的活动，而领导则是与“拉”相关的活动，领导设定目的地和通往目的地的路线图，而管理则是设法怎么去达到目的地。
管理与人相关，将合适的任务分配给合适的人，并且在合适的时间内以合适的行为做合适的工作，并且确保团队的团结。管理需要将合适的技能与自己过往的经验相结合，从组织的角度看，管理就是保证项目在不超过预算的前提下，按时完成预定的任务。
如果管理是推动组织爬坡，那么领导就是选择山头，鼓励员工一起努力翻越山头。领导需要为员工描述产品的愿景，并将愿景深入到每一个员工的内心，引领他们为公司做正确的事情，要不然员工可能不知道自己的工作是为了什么。

### 定义责任人

导致可扩展性低下的一个主要原因就是责任不清或者角色不明，意味着有些事情没有人做，比如说我们有一台数据库服务器，它的存储容量是10G，可是如果没有人负责，一旦我们的业务量上升，10G容量满了之后，找不到责任人也没有人去扩容，那么这个事情，很可能就会成为一次灾难。

无人负责的另一个极端情况就是多个组织或者个人被赋予了同样的目标，这与共享目标不是同一件事情，而这里的共享，因为他有好几个主人，所以彼此之间没有明确这件事到底是应该谁去负责，问题发生时，很可能相互推卸。


组织内的每一件事都要指定好负责人，有决策人，还有一点，尤其重要的是关于权力下放的事情，当定义一个组织的角色，和责任的时候，其实是在设置一个权力下放的蓝图，权力下放就是指授权，给别人做你该做的事情，这一点非常重要，你可以下放任何权利，但必须对结果承担所有的责任，接受你下放的个人或团队，还能最多是承担，连带的责任，而你有可能被解雇或者提升，或者受到奖励，所以你必须清楚，自己要对最终的结果负全责。


综上所述，人员组织管理和领导这几个因素对扩展性都是很重要的。


## 读书笔记（二）

### 组织的设置

一个组织存在就是为了解决沟通和协调这两个问题。如果一个组织沟通出现问题或者人数不方便协调都会导致效率低下。特别是当一个组织内不知道彼此之间都在做什么，那么当某个地方出现问题，很难找到对应的责任人，问题就很难快速得到解决。那么为了搞清楚如何组建一个优秀的组织，就需要弄清楚组织的两个基本决定因素：`规模和结构`。

#### 组织的规模

关于组织的规模一般没有个确切的数字，书中也只是给出了一个范围，团队规模一般在6~15人之间（亚马逊CEO：JeffBezos，提出过两个披萨规则）。

> 两个披萨原则是指与会人数不能多到两个披萨饼还不够他们吃的地步。

**确定团队规模的三要素**
1. 管理者的经验

一个刚刚入门的管理者，即使是6个人的小团队，在项目排期上也会花去一整天的时间，所以管理者的经验是团队规模的第一要素。

2. 团队在职时间

团队员工的在职时间越长，管理成本就越低，内部的沟通成本也会相应降低。

3. 经理的责任

这一因素往往与业务相关，如果这个业务是公司的核心业务，需要赚更多的钱，并且面临强有力的竞争对手，此时团队的规模也要相应扩大。

**团队规模出现问题**

团队过大：
1. 沟通不畅：所谓的人多嘴杂。
2. 生产力低下：高级工程师没有时间指导初级工程师，导致初级工程师不能快速上手，反之高级工程师忙于解答初级工程师的问题，导致自己的工作效率低下。
3. 士气低落：人数一多，总有人会被边缘化，导致士气低落。

团队过小：
1. 不满的业务合作伙伴
2. 劳累的团队成员


#### 组织的结构

书中介绍了三种组织结构：

1. 职能型组织

![image](https://file.shenfq.com/18-11-21/81204026.jpg)

2. 矩阵型组织

![image](https://file.shenfq.com/18-11-21/2527572.jpg)

3. 敏捷型组织

![image](https://file.shenfq.com/18-11-21/13632329.jpg)


### 领导力秘籍

为什么业务的可扩展性与领导力还有关？因为如果领导不能做出正确的决策，即使产品是成功，也会导致业务的衰败。

那么什么是领导力？

> 影响一个组织或者个人达到某个特定目标的行为的力量

领导力的概念模型：

领导力 = f(...领导所具备的一些特性)

其实说白了领导力就是一个关于其一些特性的函数，只有具备了某些特质才能称这个人有领导力。

1. 自知之明
2. 身先士卒
3. 谦虚谨慎
4. 以人为本，使命为先
5. 决策英明，以德服人
6. 用人不疑
7. 与股东价值保持一致，并为股东创造价值

另外领导还需要为公司的愿景、使命、目标投入一定的精力。

#### 愿景

理想状况下，愿景会激励团队，让团队知道自己在做什么事，要往哪里去。一个好的愿景需要符合下列条件：

- 对理想未来的生动描述
- 为股东创造价值很重要
- 可度量
- 激动人心
- 结合信仰
- 容易记忆
- 可根据需要修改，但是大致方向不能变

#### 使命

如果愿景是对理想未来的生动描述，那么使命就是我们到达目的地的行动计划，使命更聚焦于公司的现状。使命的描述因符合下列条件：

- 对现状与行动的描述
- 有目的感
- 可度量
- 通往的方向与愿景保持一致


#### 目标

目标是路途中确保我们走在正确路上的路标，目标不也经常被称为中间目标或者小目标吗，就表示这是计划路上的必经之路。最好的目标通过SMART制定。

- 具体 (S)
- 可量度 (M)
- 可到达 (A)
- 现实性 (R)
- 时效性 (T)


总之，领导要与团队描述你要去哪儿，提供大方向和一套目标来帮助团队确定是否走在正确的路上。


### 管理秘籍

什么是管理？ 《韦氏词典》中的定义：

> 执行或者监督某些事情

> 以执法手段完成某件事情

作者的定义：
> 以明智和合乎道德的手段来完成任务

5-95规则：

> 用5%的时间制定一个充足、保守和详细的计划，同时承认这个计划不是完备的，把其余95%的时间投入到应急演练，以应付突发事件。

#### 团队建设

管理人员需要在行政人员规定的团队工资限额下，寻找负担得起的最优秀的人才，也就是用最少的投入换取最高的回报。同时，还要提示团队的配合能力，因为组织的产出不仅仅取决于个人的产出，也取决于团队的共同产出。

#### 优化团队

在快速增长的公司中，管理者通常会花很多时间来面试和挑选候选人，但是花在每个候选人身上的时间却很少。而且，很多管理者不会去总结以往招聘失败的经验，为特定岗位招聘特定的人，需要重视过去招聘中的失败，复制以往成功的经验。

除了招聘之外，我们还需要培养老员工。就像花园的园丁，不仅需要引入新的瓶中的花，那些盛开的花也同样需要修剪。同理，要发现那些表现不太好的员工，要放到能发挥他作用的地方。但是有些员工放在哪里都不合适，这就需要除草了。对大多数管理者来说，给花园除草都是极其痛苦的事情。尽快的淘汰表现差的人，就能越快的找到合适的替代者，让团队向前发展。


要在管理上成功，需要专注和学习成长，也需要安排好任务、人以实现预期的目标。

